@import com.cjwwdev.views.html.templates.MainTemplate
@import com.cjwwdev.views.html.helpers.{textInput, errorPanel}
@import com.cjwwdev.frontendUI.builders.NavBarLinkBuilder
@import helper._
@import models.test.TearDownUser

@import forms.FeatureModel
@(form: Form[FeatureModel])(implicit request: Request[_], messages: MessagesApi, lang: Lang, links: Seq[NavBarLinkBuilder], navBarRoutes: Map[String, Call])

@MainTemplate(title = "Toggle feature switches", links, navBarRoutes) {
    <div class="top-block-single">
        <div class="container">
            <div class="row">
                <div class="col-md-3"></div>

                <div class="col-md-6">
                    <div class="page-header">
                        <h1 id="main-heading" class="pageTitle text-center">Toggle features</h1>
                    </div>

                    <form action="@controllers.test.routes.FeatureController.submit()" method="post">
                        @CSRF.formField

                       <div class="row">
                       @for(((feature, state), i) <- form.data.zipWithIndex) {
                           <div class="col-md-3">
                               <div class="thumbnail">
                                   <div class="caption">
                                       <div class="ckbx-style-8 ckbx-xlarge">
                                           <input type="checkbox" id="ckbx-@i" name="featureState[@feature]" @if(state.toBoolean) { checked }>
                                           <label for="ckbx-@i"></label>
                                           <input type="hidden" name="featureState[@feature]" value="false" />
                                       </div>
                                       <h4 class="text-center">@{feature.toLowerCase.capitalize.replace("_", " ")}</h4>
                                   </div>
                               </div>
                           </div>
                       }
                       </div>

                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <div class="input-group">
                                        <button type="submit" class="btn btn-primary btn-lg">Submit</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="col-md-3"></div>
            </div>
        </div>
    </div>
}